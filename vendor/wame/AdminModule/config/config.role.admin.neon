services:
    # Permissions
    PermissionObject:
        setup:
            # Admin
            - addResource('Admin')
            - addResourceAction('Admin', 'default')
            - allow('moderator', 'Admin', 'default')
            - addResourceAction('Admin', 'show')
            - allow('moderator', 'Admin', 'show')
            - addResourceAction('Admin', 'create')
            - allow('moderator', 'Admin', 'create')
            - addResourceAction('Admin', 'edit')
            - allow('moderator', 'Admin', 'edit')
            - addResourceAction('Admin', 'delete')
            - allow('admin', 'Admin', 'delete')


    - Wame\PermissionModule\Vendor\Wame\AdminModule\Forms\Containers\INameContainerFactory
    - Wame\PermissionModule\Vendor\Wame\AdminModule\Forms\Containers\IInheritContainerFactory


    # Forms
    Admin.RoleFormBuilder:
        class: Wame\DynamicObject\Forms\EntityFormBuilder
        setup:
            - setRepository(@RoleRepository)
            - redirectTo('Role:', { 'id' : null })
            - add(@Wame\PermissionModule\Vendor\Wame\AdminModule\Forms\Containers\INameContainerFactory, 'NameContainer', {priority: 100})
            - add(@Wame\PermissionModule\Vendor\Wame\AdminModule\Forms\Containers\IInheritContainerFactory, 'InheritContainer', {priority: 50})
            - add(@Wame\DynamicObject\Forms\Containers\ISubmitContainerFactory, 'SubmitContainer', {priority: 10})


    # Grids
    Admin.RoleGrid:
        class: Wame\PermissionModule\Vendor\Wame\AdminModule\Grids\RoleGrid
        setup:
            - add(Wame\DataGridControl\Columns\Id(), null, {priority: 90})
            - add(Wame\DataGridControl\Columns\Name(), null, {priority: 80})
            - add(Wame\PermissionModule\Vendor\Wame\AdminModule\Grids\Columns\InheritByGridColumn(), null, {priority: 70})
            - add(Wame\DataGridControl\Actions\EditModal())
            - add(Wame\DataGridControl\Actions\Delete())
            - add(Wame\PermissionModule\Vendor\Wame\AdminModule\Grids\ToolbarButtons\Add())